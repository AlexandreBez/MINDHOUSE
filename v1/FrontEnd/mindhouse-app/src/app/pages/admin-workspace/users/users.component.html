<!-- Create User -->
<div class="modal fade" id="sendToEmailModal" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false"
    aria-labelledby="sendToEmailModal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div [ngClass]="isDarkMode ? 'bg-white modal-header' : 'text-white bg-dark modal-header'">
                <h1 class="modal-title fs-5" id="sendToEmailModal">Create new user</h1>
                <button type="button" [disabled]="waitingActionResponse"
                    class="btn close-btn" data-bs-dismiss="modal" aria-label="Close">
                    <i class="bi bi-x-lg"></i>
                </button>
            </div>
            <div *ngIf="waitingActionResponse" class="spinner-border text-danger container-fluid" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <div *ngIf="!waitingActionResponse"
                [ngClass]="isDarkMode ? 'text-white bg-dark modal-body' : 'text-dark bg-white modal-body'">
                <div *ngIf="errorEmailMessage != null" class="text-center text-dark alert alert-dark" role="alert">
                    <i class="bi bi-exclamation-triangle" style="color: #C30618;"></i>
                    {{errorEmailMessage}}
                </div>
                <div *ngIf="successEmailMessage != null" class="text-center text-dark alert alert-dark" role="alert">
                    <i class="bi bi-check-circle-fill" style="color: #00BF63;"></i>
                    {{successEmailMessage}}
                </div>

            </div>
            <div [ngClass]="isDarkMode ? 'bg-white modal-footer' : 'text-white bg-dark modal-footer'">
                <button type="button" [disabled]="waitingActionResponse" (click)="selectedEmails = []"
                    class="btn btn-secondary" data-bs-dismiss="modal">
                    <i class="bi bi-x"></i>
                    Cancel
                </button>
                <button [disabled]="waitingActionResponse" [disabled]="selectedEmails.length <= 0"
                    class="btn btn-success" (click)="sendExcelUserReportForEmails()">
                    <i class="bi bi-reply-fill"></i>
                    Send Report
                </button>
            </div>
        </div>
    </div>
</div>

<div class="container text-center user-content">

    <div class="row">
        <div class="col-12 mt-3 text-white">
            <h2>User list</h2>
            <hr>
            <div *ngIf="errorMessage != null" class="text-center text-dark alert alert-dark" role="alert">
                <i class="bi bi-exclamation-triangle" style="color: #C30618;"></i>
                {{errorMessage}}
            </div>
            <div *ngIf="successMessage != null" class="text-center text-dark alert alert-dark" role="alert">
                <i class="bi bi-check-circle-fill" style="color: #00BF63;"></i>
                {{successMessage}}
            </div>
        </div>
        <div class="row mb-2">
            <div class="col-4">
                <button class="btn btn-success me-2" data-bs-toggle="modal" data-bs-target="#sendToEmailModal">
                    <i class="bi bi-person-add"></i>
                    Create user
                </button>
                <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#sendToEmailModal">
                    <i class="bi bi-file-earmark-spreadsheet"></i>
                    Upload Users
                </button>
            </div>

            <div class="col">
                <div class="d-flex flex-wrap align-items-center">
                    <button class="btn dropdown-toggle" style="background-color: #FF3131;" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="bi bi-funnel"></i>
                    </button>

                    <ul class="dropdown-menu">

                        <li>
                            <a class="dropdown-item" type="button">
                                <div class="form-check">
                                    <input class="form-check-input" value="name" type="radio" name="SearchByName"
                                        id="SearchByName">
                                    <label class="form-check-label custom-text" for="SearchByName">
                                        <i class="bi bi-person-badge-fill"></i>
                                        Name
                                    </label>
                                </div>
                            </a>
                        </li>

                        <li>
                            <hr class="dropdown-divider">
                        </li>

                        <li>
                            <a class="dropdown-item" type="button">
                                <div class="form-check">
                                    <input class="form-check-input" value="email" type="radio" name="SearchByEmail"
                                        id="SearchByEmail">
                                    <label class="form-check-label custom-text" for="SearchByEmail">
                                        <i class="bi bi-envelope-at"></i>
                                        Email
                                    </label>
                                </div>
                            </a>
                        </li>

                        <li>
                            <hr class="dropdown-divider">
                        </li>

                        <li>
                            <a class="dropdown-item" type="button">
                                <div class="form-check">
                                    <input class="form-check-input" value="role" type="radio" name="SearchByRole"
                                        id="SearchByRole">
                                    <label class="form-check-label custom-text" for="SearchByRole">
                                        <i class="bi bi-boxes"></i>
                                        Role
                                    </label>
                                </div>
                            </a>
                        </li>

                    </ul>

                    <div class="flex-grow-1 flex-shrink-1 me-1">
                        <select class="form-select" aria-label="Default select example"
                            aria-placeholder="Select a role...">
                            <option value="ADMIN">ADMIN</option>
                            <option value="SUPPORT">SUPPORT</option>
                            <option value="SUPPORT MANAGER">SUPPORT MANAGER</option>
                            <option value="SALES">SALES</option>
                            <option value="SALES MANAGER">SALES MANAGER</option>
                        </select>
                    </div>

                    <div class="flex-grow-1 flex-shrink-1 me-1">
                        <input class="form-control" type="search" placeholder="Type here..." aria-label="Search">
                    </div>

                    <button class="btn" style="background-color: #FF3131;">
                        <i class="bi bi-search"></i>
                    </button>
                </div>
            </div>
        </div>

        <table class="table table-dark table-sm mt-2">
            <thead class="table-dark">
                <tr>
                    <th scope="col">
                        <i class="bi bi-person-fill"></i>
                        NAME
                    </th>
                    <th scope="col">
                        <i class="bi bi-envelope-fill"></i>
                        EMAIL
                    </th>
                    <th scope="col">
                        <i class="bi bi-briefcase-fill"></i>
                        ROLE
                    </th>
                    <th scope="col">
                        <i class="bi bi-person-fill-gear"></i>
                        UPDATE
                    </th>
                    <th scope="col">
                        <i class="bi bi-trash"></i>
                        DELETE
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Test Jhon</td>
                    <td>test@test.com</td>
                    <td>ADMIN</td>
                    <td>
                        <button type="button" class="btn btn-primary">
                            <i class="bi bi-person-fill-gear"></i>
                        </button>
                    </td>
                    <td>
                        <button type="button" class="btn btn-danger">
                            <i class="bi bi-trash"></i>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>

        <h2 *ngIf="chartData.length == 0" class="mt-3 text-white">Sorry, and error accoured while the data was
            loading...</h2>
    </div>
    <br>
</div>